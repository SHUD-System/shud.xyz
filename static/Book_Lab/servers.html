<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 计算与存储 | SHUD研究组实验室手册</title>
  <meta name="description" content="Chapter 5 计算与存储 | SHUD研究组实验室手册。" />
  <meta name="generator" content="bookdown 0.33 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 计算与存储 | SHUD研究组实验室手册" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Chapter 5 计算与存储 | SHUD研究组实验室手册。" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 计算与存储 | SHUD研究组实验室手册" />
  
  <meta name="twitter:description" content="Chapter 5 计算与存储 | SHUD研究组实验室手册。" />
  

<meta name="author" content="舒乐乐和他的学生们、同事们、朋友们" />


<meta name="date" content="2024-04-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="res.html"/>
<link rel="next" href="ResNormal.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SHUD研究组实验室手册</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>为什么要阅读这本书</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> 研究组介绍</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#基本组织结构"><i class="fa fa-check"></i><b>1.1</b> 基本组织结构</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="intro.html"><a href="intro.html#sec:resinst"><i class="fa fa-check"></i><b>1.1.1</b> 团队研究方向</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro.html"><a href="intro.html#单位介绍"><i class="fa fa-check"></i><b>1.1.2</b> 单位介绍</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#身份角色"><i class="fa fa-check"></i><b>1.2</b> 身份角色</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#团队负责人"><i class="fa fa-check"></i><b>1.2.1</b> 团队负责人</a></li>
<li class="chapter" data-level="1.2.2" data-path="intro.html"><a href="intro.html#科研助理"><i class="fa fa-check"></i><b>1.2.2</b> 科研助理</a></li>
<li class="chapter" data-level="1.2.3" data-path="intro.html"><a href="intro.html#博士生"><i class="fa fa-check"></i><b>1.2.3</b> 博士生</a></li>
<li class="chapter" data-level="1.2.4" data-path="intro.html"><a href="intro.html#硕士生"><i class="fa fa-check"></i><b>1.2.4</b> 硕士生</a></li>
<li class="chapter" data-level="1.2.5" data-path="intro.html"><a href="intro.html#客座研究生"><i class="fa fa-check"></i><b>1.2.5</b> 客座研究生</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="rules.html"><a href="rules.html"><i class="fa fa-check"></i><b>2</b> 规则</a>
<ul>
<li class="chapter" data-level="2.1" data-path="rules.html"><a href="rules.html#科研规则"><i class="fa fa-check"></i><b>2.1</b> 科研规则</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="rules.html"><a href="rules.html#细节规则"><i class="fa fa-check"></i><b>2.1.1</b> 细节规则</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="rules.html"><a href="rules.html#advisor"><i class="fa fa-check"></i><b>2.2</b> 导师制度</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="rules.html"><a href="rules.html#学术导师adacemic-advisor"><i class="fa fa-check"></i><b>2.2.1</b> 学术导师(Adacemic Advisor)</a></li>
<li class="chapter" data-level="2.2.2" data-path="rules.html"><a href="rules.html#生活导师mentor"><i class="fa fa-check"></i><b>2.2.2</b> 生活导师(Mentor)</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="rules.html"><a href="rules.html#科研经费"><i class="fa fa-check"></i><b>2.3</b> 科研经费</a></li>
<li class="chapter" data-level="2.4" data-path="rules.html"><a href="rules.html#源基金"><i class="fa fa-check"></i><b>2.4</b> “源基金”</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="rules.html"><a href="rules.html#项目福利"><i class="fa fa-check"></i><b>2.4.1</b> 项目福利</a></li>
<li class="chapter" data-level="2.4.2" data-path="rules.html"><a href="rules.html#项目申请"><i class="fa fa-check"></i><b>2.4.2</b> 项目申请</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="rules.html"><a href="rules.html#组会制度"><i class="fa fa-check"></i><b>2.5</b> 组会制度</a></li>
<li class="chapter" data-level="2.6" data-path="rules.html"><a href="rules.html#给学生的建议"><i class="fa fa-check"></i><b>2.6</b> 给学生的建议</a></li>
<li class="chapter" data-level="2.7" data-path="rules.html"><a href="rules.html#学生培养计划"><i class="fa fa-check"></i><b>2.7</b> 学生培养计划</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="rules.html"><a href="rules.html#研究方向"><i class="fa fa-check"></i><b>2.7.1</b> 研究方向</a></li>
<li class="chapter" data-level="2.7.2" data-path="rules.html"><a href="rules.html#时间表"><i class="fa fa-check"></i><b>2.7.2</b> 时间表</a></li>
<li class="chapter" data-level="2.7.3" data-path="rules.html"><a href="rules.html#课程推荐"><i class="fa fa-check"></i><b>2.7.3</b> 课程推荐</a></li>
<li class="chapter" data-level="2.7.4" data-path="rules.html"><a href="rules.html#必读书籍"><i class="fa fa-check"></i><b>2.7.4</b> 必读书籍</a></li>
<li class="chapter" data-level="2.7.5" data-path="rules.html"><a href="rules.html#必读文献入组必读"><i class="fa fa-check"></i><b>2.7.5</b> 必读文献(入组必读)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="allowance.html"><a href="allowance.html"><i class="fa fa-check"></i><b>3</b> 工作待遇</a>
<ul>
<li class="chapter" data-level="3.1" data-path="allowance.html"><a href="allowance.html#基本待遇"><i class="fa fa-check"></i><b>3.1</b> 基本待遇</a></li>
<li class="chapter" data-level="3.2" data-path="allowance.html"><a href="allowance.html#住宿"><i class="fa fa-check"></i><b>3.2</b> 住宿</a></li>
<li class="chapter" data-level="3.3" data-path="allowance.html"><a href="allowance.html#life"><i class="fa fa-check"></i><b>3.3</b> 周边生活信息</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="allowance.html"><a href="allowance.html#附件美食"><i class="fa fa-check"></i><b>3.3.1</b> 附件美食</a></li>
<li class="chapter" data-level="3.3.2" data-path="allowance.html"><a href="allowance.html#购物中心"><i class="fa fa-check"></i><b>3.3.2</b> 购物中心</a></li>
<li class="chapter" data-level="3.3.3" data-path="allowance.html"><a href="allowance.html#公园景点"><i class="fa fa-check"></i><b>3.3.3</b> 公园/景点</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="res.html"><a href="res.html"><i class="fa fa-check"></i><b>4</b> 科研资源</a>
<ul>
<li class="chapter" data-level="4.1" data-path="res.html"><a href="res.html#工作环境"><i class="fa fa-check"></i><b>4.1</b> 工作环境</a></li>
<li class="chapter" data-level="4.2" data-path="res.html"><a href="res.html#图书馆"><i class="fa fa-check"></i><b>4.2</b> 图书馆</a></li>
<li class="chapter" data-level="4.3" data-path="res.html"><a href="res.html#文献下载"><i class="fa fa-check"></i><b>4.3</b> 文献下载</a></li>
<li class="chapter" data-level="4.4" data-path="res.html"><a href="res.html#数据"><i class="fa fa-check"></i><b>4.4</b> 数据</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="servers.html"><a href="servers.html"><i class="fa fa-check"></i><b>5</b> 计算与存储</a>
<ul>
<li class="chapter" data-level="5.1" data-path="servers.html"><a href="servers.html#nas网络存储"><i class="fa fa-check"></i><b>5.1</b> NAS网络存储</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="servers.html"><a href="servers.html#账号开通注销"><i class="fa fa-check"></i><b>5.1.1</b> 账号开通/注销</a></li>
<li class="chapter" data-level="5.1.2" data-path="servers.html"><a href="servers.html#nas文件结构"><i class="fa fa-check"></i><b>5.1.2</b> NAS文件结构</a></li>
<li class="chapter" data-level="5.1.3" data-path="servers.html"><a href="servers.html#访问nas"><i class="fa fa-check"></i><b>5.1.3</b> 访问NAS</a></li>
<li class="chapter" data-level="5.1.4" data-path="servers.html"><a href="servers.html#nas-作为网络磁盘"><i class="fa fa-check"></i><b>5.1.4</b> NAS 作为网络磁盘</a></li>
<li class="chapter" data-level="5.1.5" data-path="servers.html"><a href="servers.html#synology"><i class="fa fa-check"></i><b>5.1.5</b> 云盘Synology Drive</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="servers.html"><a href="servers.html#windows远程桌面"><i class="fa fa-check"></i><b>5.2</b> Windows远程桌面</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="servers.html"><a href="servers.html#操作系统与软件"><i class="fa fa-check"></i><b>5.2.1</b> 操作系统与软件</a></li>
<li class="chapter" data-level="5.2.2" data-path="servers.html"><a href="servers.html#登录方式"><i class="fa fa-check"></i><b>5.2.2</b> 登录方式</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="servers.html"><a href="servers.html#ubuntu服务器"><i class="fa fa-check"></i><b>5.3</b> Ubuntu服务器</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="servers.html"><a href="servers.html#操作系统与软件-1"><i class="fa fa-check"></i><b>5.3.1</b> 操作系统与软件</a></li>
<li class="chapter" data-level="5.3.2" data-path="servers.html"><a href="servers.html#ssh登录"><i class="fa fa-check"></i><b>5.3.2</b> SSH登录</a></li>
<li class="chapter" data-level="5.3.3" data-path="servers.html"><a href="servers.html#vnc远程桌面"><i class="fa fa-check"></i><b>5.3.3</b> VNC远程桌面</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="servers.html"><a href="servers.html#shudhpc高性能计算集群"><i class="fa fa-check"></i><b>5.4</b> SHUDHPC高性能计算集群</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="servers.html"><a href="servers.html#登录"><i class="fa fa-check"></i><b>5.4.1</b> 登录</a></li>
<li class="chapter" data-level="5.4.2" data-path="servers.html"><a href="servers.html#服务器硬件配置"><i class="fa fa-check"></i><b>5.4.2</b> 服务器硬件配置</a></li>
<li class="chapter" data-level="5.4.3" data-path="servers.html"><a href="servers.html#shudhpc-ip地址配置"><i class="fa fa-check"></i><b>5.4.3</b> SHUDHPC IP地址配置</a></li>
<li class="chapter" data-level="5.4.4" data-path="servers.html"><a href="servers.html#操作系统与软件-2"><i class="fa fa-check"></i><b>5.4.4</b> 操作系统与软件</a></li>
<li class="chapter" data-level="5.4.5" data-path="servers.html"><a href="servers.html#存储信息"><i class="fa fa-check"></i><b>5.4.5</b> 存储信息</a></li>
<li class="chapter" data-level="5.4.6" data-path="servers.html"><a href="servers.html#用户管理"><i class="fa fa-check"></i><b>5.4.6</b> 用户管理</a></li>
<li class="chapter" data-level="5.4.7" data-path="servers.html"><a href="servers.html#作业管理slurm"><i class="fa fa-check"></i><b>5.4.7</b> 作业管理Slurm</a></li>
<li class="chapter" data-level="5.4.8" data-path="servers.html"><a href="servers.html#slurm使用注意事项"><i class="fa fa-check"></i><b>5.4.8</b> Slurm使用注意事项</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ResNormal.html"><a href="ResNormal.html"><i class="fa fa-check"></i><b>6</b> 研究的范式</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ResNormal.html"><a href="ResNormal.html#科学问题"><i class="fa fa-check"></i><b>6.1</b> 科学问题</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="ResNormal.html"><a href="ResNormal.html#科学问题的案例"><i class="fa fa-check"></i><b>6.1.1</b> 科学问题的案例</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="ResNormal.html"><a href="ResNormal.html#研究区"><i class="fa fa-check"></i><b>6.2</b> 研究区</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="ResNormal.html"><a href="ResNormal.html#资料收集和处理"><i class="fa fa-check"></i><b>6.2.1</b> 资料收集和处理</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="skill.html"><a href="skill.html"><i class="fa fa-check"></i><b>7</b> 工作技能</a>
<ul>
<li class="chapter" data-level="7.1" data-path="skill.html"><a href="skill.html#researchtool"><i class="fa fa-check"></i><b>7.1</b> 科研工具</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="skill.html"><a href="skill.html#空间制图qgis"><i class="fa fa-check"></i><b>7.1.1</b> 【空间制图】QGIS</a></li>
<li class="chapter" data-level="7.1.2" data-path="skill.html"><a href="skill.html#绘图xmind"><i class="fa fa-check"></i><b>7.1.2</b> 【绘图】XMind</a></li>
<li class="chapter" data-level="7.1.3" data-path="skill.html"><a href="skill.html#文献mendeley-desktop"><i class="fa fa-check"></i><b>7.1.3</b> 【文献】Mendeley Desktop</a></li>
<li class="chapter" data-level="7.1.4" data-path="skill.html"><a href="skill.html#文献consensus.app"><i class="fa fa-check"></i><b>7.1.4</b> 【文献】Consensus.app</a></li>
<li class="chapter" data-level="7.1.5" data-path="skill.html"><a href="skill.html#文献researcher-app"><i class="fa fa-check"></i><b>7.1.5</b> 【文献】Researcher App</a></li>
<li class="chapter" data-level="7.1.6" data-path="skill.html"><a href="skill.html#文献publish-or-perish-pop"><i class="fa fa-check"></i><b>7.1.6</b> 【文献】Publish or Perish (PoP)</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="skill.html"><a href="skill.html#ai及chatgpt"><i class="fa fa-check"></i><b>7.2</b> AI及ChatGPT</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="skill.html"><a href="skill.html#chatgpt"><i class="fa fa-check"></i><b>7.2.1</b> ChatGPT</a></li>
<li class="chapter" data-level="7.2.2" data-path="skill.html"><a href="skill.html#智谱清言"><i class="fa fa-check"></i><b>7.2.2</b> 智谱清言</a></li>
<li class="chapter" data-level="7.2.3" data-path="skill.html"><a href="skill.html#私有大模型"><i class="fa fa-check"></i><b>7.2.3</b> 私有大模型</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="skill.html"><a href="skill.html#ssh"><i class="fa fa-check"></i><b>7.3</b> ssh远程登录</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="skill.html"><a href="skill.html#免密码登录"><i class="fa fa-check"></i><b>7.3.1</b> 免密码登录</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="skill.html"><a href="skill.html#wget批量下载数据"><i class="fa fa-check"></i><b>7.4</b> wget批量下载数据</a></li>
<li class="chapter" data-level="7.5" data-path="skill.html"><a href="skill.html#linux"><i class="fa fa-check"></i><b>7.5</b> Linux操作系统</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="skill.html"><a href="skill.html#linux-user"><i class="fa fa-check"></i><b>7.5.1</b> 用户名管理</a></li>
<li class="chapter" data-level="7.5.2" data-path="skill.html"><a href="skill.html#linux常用的命令"><i class="fa fa-check"></i><b>7.5.2</b> Linux常用的命令。</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="skill.html"><a href="skill.html#r"><i class="fa fa-check"></i><b>7.6</b> R语言</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="skill.html"><a href="skill.html#rstudio-server"><i class="fa fa-check"></i><b>7.6.1</b> Rstudio Server</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="skill.html"><a href="skill.html#python"><i class="fa fa-check"></i><b>7.7</b> Python工作环境</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="Ack.html"><a href="Ack.html"><i class="fa fa-check"></i><b>8</b> 致谢</a></li>
<li class="divider"></li>
<li><a href="https://www.shud.xyz" target="blank">研究组主页</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SHUD研究组实验室手册</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="servers" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> 计算与存储<a href="servers.html#servers" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>本研究组分别有三台共组员使用的计算服务器和网络存储.
三台服务器分别为Windows Server远程桌面、Ubuntu远程桌面、多节点高性能计算机群（SHUDHPC）。</p>
<p>各服务器访问IP分别为：</p>
<table>
<colgroup>
<col width="21%" />
<col width="14%" />
<col width="19%" />
<col width="19%" />
<col width="26%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">平台</th>
<th align="center">主机名</th>
<th align="center">公网IP地址</th>
<th align="center">内网IP地址</th>
<th align="center">端口转发地址</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">计算集群</td>
<td align="center">SHUDHPC</td>
<td align="center">shud.vip(210.77.77.22)</td>
<td align="center">10.0.1.100</td>
<td align="center">210.77.77.25:318xx</td>
</tr>
<tr class="even">
<td align="center">Ubuntu远程桌面</td>
<td align="center">uDesk</td>
<td align="center">210.77.77.23</td>
<td align="center">10.0.1.23</td>
<td align="center">210.77.77.25:319xx</td>
</tr>
<tr class="odd">
<td align="center">Windows远程桌面</td>
<td align="center">Win-Desk</td>
<td align="center">210.77.77.24</td>
<td align="center">10.0.1.24</td>
<td align="center">210.77.77.25:320xx</td>
</tr>
<tr class="even">
<td align="center">路由器</td>
<td align="center">H3C</td>
<td align="center">210.77.77.25</td>
<td align="center">10.0.1.1</td>
<td align="center">无</td>
</tr>
<tr class="odd">
<td align="center">NAS共享网盘</td>
<td align="center">shudxyz</td>
<td align="center">nas.shud.vip(210.77.77.36)</td>
<td align="center">10.0.1.26</td>
<td align="center">无</td>
</tr>
</tbody>
</table>
<p><strong>注意</strong>：ssh登录端口统一为32099</p>
<p><strong>SHUDHPC与uDesk通过NIS共享同一套账户系统，因此，在SHUDHPC和uDesk上面的登录账户和用户主目录完全相同；uDesk上支持Linux图形桌面，方便用户进行可视化操作。</strong></p>
<div class="float">
<img src="Fig/ch5/machine.jpeg" alt="所有主机照片" />
<div class="figcaption">所有主机照片</div>
</div>
<div id="nas网络存储" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> NAS网络存储<a href="servers.html#nas网络存储" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>本组使用群辉DS1821+建设了100TB的网络存储空间，供组内成员和合作者使用。</p>
<p>Synology Drive是依托本组的NAS网络存储建设的，可以远程以网络磁盘的方式访问，也可以使用sftp,、Synology Drive、rsync、SMB、AFP、NFS等方式访问。</p>
<div id="账号开通注销" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> 账号开通/注销<a href="servers.html#账号开通注销" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><strong>账号开通</strong></p>
<ul>
<li>在加入本组后，向PI报告你的邮箱；由PI给你开通账号，并告知用户名和密码。</li>
<li>账号的权限等级由个人身份决定，不同权限对NAS的读写权限略有不同。</li>
<li>账号开通后，你会收到一封邮件，邮件包含了NAS服务的访问地址。请在收到邮件后登录NAS页面，并修改秘密。</li>
</ul></li>
<li><p><strong>账号注销</strong></p>
<ul>
<li>成员离开本组后，账号会继续保留至少一年。</li>
<li>你可以在一年内，备份个人网盘内的数据。一年后，你的账号将被删除，无法再访问NAS系统。</li>
</ul></li>
</ul>
</div>
<div id="nas文件结构" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> NAS文件结构<a href="servers.html#nas文件结构" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>当前的NAS文件结构与读写权限见下图：</p>
<div class="float">
<img src="Fig/ch5/nas_structure.png" alt="NAS上的文件结构与权限" />
<div class="figcaption">NAS上的文件结构与权限</div>
</div>
<p>更具体的信息见下表：</p>
<table>
<colgroup>
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="14%" />
<col width="41%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">文件夹</th>
<th align="center">学生权限</th>
<th align="center">合作者权限</th>
<th align="center">容量</th>
<th align="left"><strong>注意事项</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">homes</td>
<td align="center">无</td>
<td align="center">无</td>
<td align="center">无限</td>
<td align="left">所有用户文件都存放于此，普通用户无法访问</td>
</tr>
<tr class="even">
<td align="center">home</td>
<td align="center">读写</td>
<td align="center">读写</td>
<td align="center">10TB</td>
<td align="left">用户个人主目录，其他用户无法访问</td>
</tr>
<tr class="odd">
<td align="center">SpatialData</td>
<td align="center">只读</td>
<td align="center">只读</td>
<td align="center">10TB</td>
<td align="left">仅特定用户有权更新</td>
</tr>
<tr class="even">
<td align="center">ForcingData</td>
<td align="center">只读</td>
<td align="center">只读</td>
<td align="center">10TB</td>
<td align="left">仅特定用户有权更新</td>
</tr>
<tr class="odd">
<td align="center">SHUDgroup</td>
<td align="center">读写</td>
<td align="center">读写</td>
<td align="center">10TB</td>
<td align="left">组内成员间自动同步。勿随意存放文件</td>
</tr>
<tr class="even">
<td align="center">Shared</td>
<td align="center">读写</td>
<td align="center">读写</td>
<td align="center">10TB</td>
<td align="left">共享资源</td>
</tr>
<tr class="odd">
<td align="center">Download</td>
<td align="center">读写</td>
<td align="center">读写</td>
<td align="center">无限</td>
<td align="left">文件临时存放。所有人可写，勿长期存放重要文件</td>
</tr>
<tr class="even">
<td align="center">Baomi</td>
<td align="center">无</td>
<td align="center">无</td>
<td align="center">无限</td>
<td align="left">保密数据，仅在特殊需要时共享给指定用户</td>
</tr>
</tbody>
</table>
</div>
<div id="访问nas" class="section level3 hasAnchor" number="5.1.3">
<h3><span class="header-section-number">5.1.3</span> 访问NAS<a href="servers.html#访问nas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>NAS名称: shudxyz</li>
<li>NAS访问地址： <a href="https://nas.shud.vip">https://nas.shud.vip</a> 或者 <a href="https://nas.shud.vip">https://nas.shud.vip</a></li>
<li>用户名：username[默认为姓名全拼]</li>
<li>密码: [随机密码，请查看邮件]</li>
</ul>
</div>
<div id="nas-作为网络磁盘" class="section level3 hasAnchor" number="5.1.4">
<h3><span class="header-section-number">5.1.4</span> NAS 作为网络磁盘<a href="servers.html#nas-作为网络磁盘" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Mac OS</p>
<ul>
<li>打开Finder（访达），然后使用键盘CMD+k，访问网络地址。</li>
<li>在打开的窗口中输入：<code>afp://nas.shud.vip</code>或者<code>afp://210.77.77.36</code>。然后点击<code>连接（Connect）</code></li>
<li>然后提示框要求输入<code>用户名和密码</code>。</li>
<li>选择你需要加载的磁盘。</li>
</ul></li>
<li><p>Windows</p>
<ol style="list-style-type: decimal">
<li>打开文件管理器，找到<code>映射网络磁盘(Map network driver)</code>，</li>
</ol>
<p><img src="Fig/ch5/win_mapdisk-1.png" /></p>
<ol style="list-style-type: decimal">
<li>在打开的窗口中输入需要加载的<code>磁盘IP和路径</code>，例如<code>\\nas.shud.vip\home</code>或者<code>\\nas.shud.vip\ForcingData</code>。点击<code>完成</code></li>
</ol>
<p><img src="Fig/ch5/win_mapdisk-2.png" /></p>
<ol style="list-style-type: decimal">
<li>根据提示框输入登录NAS使用的<code>用户名与密码</code>。点击<code>OK</code></li>
</ol>
<p><img src="Fig/ch5/win_mapdisk-3.png" /></p>
<ol style="list-style-type: decimal">
<li>然后系统会加载指定的网络磁盘，映射其为本地磁盘。此后该网络磁盘将可以像一般本地磁盘一样操作。</li>
</ol>
<p><img src="Fig/ch5/win_mapdisk-4.png" /></p></li>
</ul>
<p><strong>注</strong>：如果在Windows远程桌面(Win-Desk)上加载NAS，使用本地IP(<code>10.0.1.x</code>段)，可以显著提高网络磁盘的读写速度。</p>
</div>
<div id="synology" class="section level3 hasAnchor" number="5.1.5">
<h3><span class="header-section-number">5.1.5</span> 云盘Synology Drive<a href="servers.html#synology" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>这应该是进入本组第一个学会的软件。软件的安装使用都非常简单，但是你需要学会的是重新思考:</p>
<ul>
<li>如何组织自己的文件？</li>
<li>如何高效的定位自己的文件？</li>
</ul>
<p>加入本组的工作全部在Synology Drive上进行同步。同步文件夹的内容仅自己可以看到，其他用户看不到。
文件备份在NAS云端，任何地点任何电脑上都可以查看/编辑你云盘里面的文件，不会出现<em>“电脑坏了，文件丢失”</em>，<em>“文件染病毒打不开”</em>，<em>“电脑忘记带了，没法交作业”</em>的情况。</p>
<p><strong>注意</strong>：Synology Drive使用中有<code>同步(sync)</code>和<code>备份(backup)</code>两种模式，建议一定要使用<code>同步模式</code>，保证自己每一次保存的文件都实时同步在云端。 是否启用备份模式，可以自行选择。</p>
</div>
</div>
<div id="windows远程桌面" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Windows远程桌面<a href="servers.html#windows远程桌面" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>服务器硬件配置</p>
<table>
<thead>
<tr class="header">
<th align="center">类别</th>
<th align="center">配件</th>
<th align="center">参数</th>
<th align="center">备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">平台</td>
<td align="center">浪潮雷神SA5212 H5</td>
<td align="center">12盘位2U机架式服务器</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">CPU</td>
<td align="center">至强Xeon 金牌 6133</td>
<td align="center">每CPU 20核40线程，2.5GHz</td>
<td align="center">双CPU</td>
</tr>
<tr class="odd">
<td align="center">内存</td>
<td align="center">192GB</td>
<td align="center">DDR4 2666Mhz， 12x 16GB</td>
<td align="center">6通道内存，12条</td>
</tr>
<tr class="even">
<td align="center">硬盘</td>
<td align="center">U.2 NVME</td>
<td align="center">2TB</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">网卡</td>
<td align="center"></td>
<td align="center">10Gbps 光口</td>
<td align="center"></td>
</tr>
</tbody>
</table>
<div id="操作系统与软件" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> 操作系统与软件<a href="servers.html#操作系统与软件" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>操作系统：Windows Server 2019， 支持远程GUI登录。</li>
<li>Office： Microsoft Office 365</li>
<li>文本编辑器：Notepad++, vim.</li>
<li>PS工具： GIMP</li>
<li>GIS软件：ArcGIS, QGIS</li>
<li>编程：Visual Studio Code</li>
<li>R：R, Rstudio</li>
<li>计算：Octave</li>
</ul>
<div class="float">
<img src="Fig/ch5/host_win.png" alt="Windows系统基本信息" />
<div class="figcaption">Windows系统基本信息</div>
</div>
</div>
<div id="登录方式" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> 登录方式<a href="servers.html#登录方式" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>软件：Microsoft Remote Desktop</li>
<li>登录IP： 210.77.77.24</li>
<li>端口: 默认</li>
<li>转发IP： 210.77.77.25</li>
<li>转发端口: 31810</li>
</ul>
<div class="float">
<img src="Fig/ch5/rdp-1.png" alt="Microsoft Remote Desktop界面" />
<div class="figcaption">Microsoft Remote Desktop界面</div>
</div>
<div class="float">
<img src="Fig/ch5/rdp-2.png" alt="Microsoft Remote Desktop登录配置" />
<div class="figcaption">Microsoft Remote Desktop登录配置</div>
</div>
</div>
</div>
<div id="ubuntu服务器" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Ubuntu服务器<a href="servers.html#ubuntu服务器" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>服务器硬件配置</p>
<table>
<thead>
<tr class="header">
<th align="center">类别</th>
<th align="center">配件</th>
<th align="center">参数</th>
<th align="center">备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">平台</td>
<td align="center">浪潮雷神SA5212 H5</td>
<td align="center">12盘位2U机架式服务器</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">CPU</td>
<td align="center">至强Xeon 金牌 6133</td>
<td align="center">每CPU 20核40线程，2.5GHz</td>
<td align="center">双CPU</td>
</tr>
<tr class="odd">
<td align="center">内存</td>
<td align="center">16GB x12</td>
<td align="center">DDR4 2666Mhz， 16 GBx12</td>
<td align="center">6通道内存，12条</td>
</tr>
<tr class="even">
<td align="center">硬盘</td>
<td align="center">U.2 NVME</td>
<td align="center">2TB</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">网卡</td>
<td align="center"></td>
<td align="center">10Gbps 光口</td>
<td align="center">两路光纤</td>
</tr>
</tbody>
</table>
<div id="操作系统与软件-1" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> 操作系统与软件<a href="servers.html#操作系统与软件-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>操作系统：Ubuntu 20.04， 支持远程GUI登录。</li>
<li>远程桌面系统：xfce4</li>
<li>GIS软件：QGIS 3.10</li>
<li>R: R, Rstudio</li>
<li>Octave</li>
</ul>
<div class="float">
<img src="Fig/ch5/host_udesk.png" alt="uDesk基本配置" />
<div class="figcaption">uDesk基本配置</div>
</div>
</div>
<div id="ssh登录" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> SSH登录<a href="servers.html#ssh登录" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>公网IP登录</strong></p>
<ul>
<li>登录IP： 210.77.77.23</li>
<li>软件：ssh (命令行);</li>
<li>端口: 32099</li>
</ul>
<p>示例：</p>
<pre><code>ssh zhangsan@210.77.77.23</code></pre>
<p><strong>路由器转发登录</strong></p>
<ul>
<li>登录IP： 210.77.77.25</li>
<li>软件：ssh;</li>
<li>端口: 32022</li>
</ul>
<table>
<thead>
<tr class="header">
<th align="left">访问端口</th>
<th align="left">服务器SSH端口</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">32022</td>
<td align="left">32099</td>
</tr>
</tbody>
</table>
<p>示例：</p>
<pre><code>ssh -p 32022 zhangsan@210.77.77.23</code></pre>
</div>
<div id="vnc远程桌面" class="section level3 hasAnchor" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> VNC远程桌面<a href="servers.html#vnc远程桌面" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>软件：VNC （远程桌面)</li>
<li>端口: 共20个端口，最多支持20个VNC远程桌面，端口对应关系如下表：</li>
</ul>
<table>
<thead>
<tr class="header">
<th align="center">访问端口</th>
<th align="center">服务器VNC端口</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">32001</td>
<td align="center">5901</td>
</tr>
<tr class="even">
<td align="center">32002</td>
<td align="center">5902</td>
</tr>
<tr class="odd">
<td align="center">32003</td>
<td align="center">5903</td>
</tr>
<tr class="even">
<td align="center">320xx</td>
<td align="center">59xx</td>
</tr>
<tr class="odd">
<td align="center">32020</td>
<td align="center">5920</td>
</tr>
</tbody>
</table>
<p>Ubuntu服务器端配置：建立vnc密码，并修改~/.vnc/xstartup文件。</p>
<pre><code>vncpasswd
touch ~/.vnc/xstartup
chmod +x ~/.vnc/xstartup
vim ~/.vnc/xstartup</code></pre>
<p>在文件中输入文件内容：</p>
<pre><code>#!/bin/sh
unset SESSION_MANAGER
unset DBUS_SESSION_BUS_ADDRESS
startxfce4 &amp;</code></pre>
<p>登录远程桌面：
<img src="Fig/ch5/udesk_RD.png" /></p>
<ol style="list-style-type: decimal">
<li><p>在服务器端启动vncserver。 <code>-geometry</code>参数可以设置远程桌面的分辨率。以下命令三选一</p>
<pre><code>vncserver -geometry 1440x900
vncserver -geometry 1920x1080
vncserver -geometry 2560x1440
</code></pre></li>
<li><p>然后使用<code>ss -ltn</code>当前vnc桌面的端口号码，默认第一个vnc桌面端口号为5901，第二个为5902，以此类推。或者通过命令<code>server -list</code>查看。 使用路由器端口转发，需要将590x的端口转换为320xx的端口，转换规则见前表。如果直接使用服务器公网IP，则直接使用590x端口。</p></li>
<li><p>在客户端启动vnc工具，访问[serverIP]:[端口号]。
如使用公网IP，且vnc服务端口为5904：</p>
<pre><code>vnc://210.77.77.23:5904 </code></pre>
<p>如使用路由器IP，且vnc服务端口为5904，则转发端口为32004:</p>
<pre><code>vnc://210.77.77.25:32004</code></pre></li>
<li><p>完成远程桌面工作后，退出vncserver时，需要关闭响应的vnc服务器，请在远程服务器端输入：</p>
<pre><code>vncserver -kill :4</code></pre></li>
</ol>
<p><strong>使用完远程桌面，请主动关闭该vncserver</strong></p>
</div>
</div>
<div id="shudhpc高性能计算集群" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> SHUDHPC高性能计算集群<a href="servers.html#shudhpc高性能计算集群" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>高性能计算机（High-performance computer，HPC）是由多台计算机构成的服务集群(cluster)。HPC主要由计算服务器、管理服务器和存储服务器组成，但只设有一个登录入口。用户登录到HPC后，只需将需要计算的相关任务提交至超算平台，平台计算任务调度系统将根据任务的需求和实际可用资源对任务进行排队和资源分配。</p>
<div class="float">
<img src="Fig/ch5/slurm_arch.png" alt="slurm集群基本结构(来自：https://slurm.schedmd.com/overview.html)" />
<div class="figcaption">slurm集群基本结构(来自：<a href="https://slurm.schedmd.com/overview.html" class="uri">https://slurm.schedmd.com/overview.html</a>)</div>
</div>
<div id="登录" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> 登录<a href="servers.html#登录" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>访问地址： <strong>shud.vip</strong></li>
<li>ssh端口：32099</li>
<li>网页SSH访问：<strong>ssh.shud.vip</strong></li>
<li>RStudio Server访问： <strong>rstudio.shud.vip</strong></li>
</ul>
</div>
<div id="服务器硬件配置" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> 服务器硬件配置<a href="servers.html#服务器硬件配置" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<colgroup>
<col width="24%" />
<col width="27%" />
<col width="24%" />
<col width="24%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">大类</th>
<th align="center">平台</th>
<th align="center">参数</th>
<th align="center">备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">平台</td>
<td align="center">高性能计算集群</td>
<td align="center">8计算节点，1登录节点，1高速存储</td>
<td align="center">56G IB网络, 10G 以太网</td>
</tr>
<tr class="even">
<td align="center">登录节点</td>
<td align="center">超聚变2288 V6</td>
<td align="center">2x 至强6318Y （56核），128G，2TB U.2 NVME</td>
<td align="center"></td>
</tr>
<tr class="odd">
<td align="center">存储</td>
<td align="center">超聚变2288 V6</td>
<td align="center">14x 16TB, RAID 5</td>
<td align="center">173TB可用</td>
</tr>
<tr class="even">
<td align="center">全闪存储</td>
<td align="center">泰安3036</td>
<td align="center">12x 3.76TB, ZFS RAIDZ2</td>
<td align="center">34TB可用</td>
</tr>
<tr class="odd">
<td align="center">计算节点</td>
<td align="center">超微八节点高密计算平台</td>
<td align="center">每节点：至强6133 40核(2x 20)，192GB内存</td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">IB交换机</td>
<td align="center">SX6025</td>
<td align="center">36x 56Gbps</td>
<td align="center">InfiniBand</td>
</tr>
<tr class="odd">
<td align="center">万兆以太交换机</td>
<td align="center">IBM</td>
<td align="center">48x 10Gbps，4x 40Gbps</td>
<td align="center">全光口</td>
</tr>
<tr class="even">
<td align="center">千兆以太交换机</td>
<td align="center">H3C</td>
<td align="center">48x 1Gbps</td>
<td align="center">全光口</td>
</tr>
</tbody>
</table>
</div>
<div id="shudhpc-ip地址配置" class="section level3 hasAnchor" number="5.4.3">
<h3><span class="header-section-number">5.4.3</span> SHUDHPC IP地址配置<a href="servers.html#shudhpc-ip地址配置" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<table>
<thead>
<tr class="header">
<th align="center">节点</th>
<th align="center">主机名</th>
<th align="center">万兆IP</th>
<th align="center">InfiniBand IP地址</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">登录节点</td>
<td align="center">xnode</td>
<td align="center">10.0.1.100</td>
<td align="center">10.0.2.100</td>
</tr>
<tr class="even">
<td align="center">全闪存储</td>
<td align="center">flash</td>
<td align="center">10.0.1.99</td>
<td align="center">10.0.2.99</td>
</tr>
<tr class="odd">
<td align="center">存储</td>
<td align="center">stor</td>
<td align="center">10.0.1.100</td>
<td align="center">10.0.2.100</td>
</tr>
<tr class="even">
<td align="center">计算节点</td>
<td align="center">cn[01-08]</td>
<td align="center">10.0.1.101~108</td>
<td align="center">10.0.2.101~108</td>
</tr>
</tbody>
</table>
</div>
<div id="操作系统与软件-2" class="section level3 hasAnchor" number="5.4.4">
<h3><span class="header-section-number">5.4.4</span> 操作系统与软件<a href="servers.html#操作系统与软件-2" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>操作系统：Ubuntu 20.04， 仅支持命令行登录。</li>
<li>作业调度：slurm</li>
<li>R: R</li>
<li>Octave</li>
</ul>
</div>
<div id="存储信息" class="section level3 hasAnchor" number="5.4.5">
<h3><span class="header-section-number">5.4.5</span> 存储信息<a href="servers.html#存储信息" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>假设用户名为<strong>zhangsan</strong></p>
<table>
<colgroup>
<col width="15%" />
<col width="15%" />
<col width="15%" />
<col width="54%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">目录</th>
<th align="center">所属</th>
<th align="center">权限</th>
<th align="left">使用规则</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">/volume/repo/zhangsan</td>
<td align="center">用户冷数据空间</td>
<td align="center">700</td>
<td align="left">用于存放用户程序、文件等，限10TB容量</td>
</tr>
<tr class="even">
<td align="center">/users/zhangsan</td>
<td align="center">用户主目录</td>
<td align="center">700</td>
<td align="left">仅用于编译、文件库等文件存放；禁止大文件，禁止计算。</td>
</tr>
<tr class="odd">
<td align="center">/scratch/zhangsan</td>
<td align="center">高速计算空间</td>
<td align="center">700</td>
<td align="left">可进行计算任务，任何超过60天的文件会自动删除</td>
</tr>
<tr class="even">
<td align="center">/volume/data</td>
<td align="center">冷数据盘</td>
<td align="center">777</td>
<td align="left">公共空间。不要长期存储个人数据</td>
</tr>
<tr class="odd">
<td align="center">/tmp*</td>
<td align="center">临时数据</td>
<td align="center">777</td>
<td align="left">公共临时目录；如需高速运算，输出数据可存在/tmp里面</td>
</tr>
<tr class="even">
<td align="center">/opt</td>
<td align="center">软件安装/编译盘</td>
<td align="center">755</td>
<td align="left">公共程序安装目录</td>
</tr>
</tbody>
</table>
<p><strong>注</strong>：每一个计算节点上面都有/tmp目录，这个磁盘属于计算节点的U.2 NVME高速磁盘，写入速度约2000MB/s，计算结果存储在/tmp速度最快。但是，当计算完成后，用户无法访问计算节点的/tmp。例如：用户在主节点xnode上提交任务（./shud -o /tmp/ccw.out ccw）给cn01节点，计算过程中，cn01上的任务将结果保存在cn01:/tmp/ccw.out里面。但是，当任务完成后，用户无法直接访问cn01:/tmp下的文件，用户只能访问到xnode:/tmp下的文件。 因此，如果任务提交时选择/tmp写出，那么需要在任务脚本中加入一个拷贝/tmp/ccw.out到用户个人目录的命令，以此保证用户可以获得计算结果。</p>
</div>
<div id="用户管理" class="section level3 hasAnchor" number="5.4.6">
<h3><span class="header-section-number">5.4.6</span> 用户管理<a href="servers.html#用户管理" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>zhangsan： 一般用户</li>
</ul>
<p>研究组的每个成员将获得一个登录账号，账号类型为超算一般用户，具有提交任务的权限。如果任务需要特殊要求，请与PI进行沟通。</p>
</div>
<div id="作业管理slurm" class="section level3 hasAnchor" number="5.4.7">
<h3><span class="header-section-number">5.4.7</span> 作业管理Slurm<a href="servers.html#作业管理slurm" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>SLURM (Simple Linux Utility for Resource Management) 是一个流行的开源的作业调度和集群管理系统，主要用于高性能计算和科学计算领域。SLURM的主要特点包括：灵活的资源管理、可扩展性、高可用性、高可靠性、多种作业调度算法和管理工具等。</p>
<p>在SLURM中，用户提交的作业会被分配到可用的计算节点上进行计算。SLURM会根据可用资源的情况，按照用户指定的优先级和作业调度算法来安排作业的执行顺序，以达到最大化集群的利用率和性能。同时，SLURM还提供了一系列管理工具，如节点管理、队列管理、用户管理、资源限制等，方便管理员对集群进行管理和监控。</p>
<p>SLURM的使用十分广泛，被许多知名的超算中心采用。</p>
<p>当前八个计算节点全部归属同一个计算分区（partition）。<code>partition = suan</code>。</p>
<p>命令代码</p>
<pre><code>srun -N 5 -n 5 hostname  #5个节点，5个CPU
srun -N 5 -n 50 hostname  #5个节点，50个CPU</code></pre>
<p>代码示例1：</p>
<pre><code>#!/bin/bash
#SBATCH --job-name=hostname
#SBATCH --partition=suan # 计算分区名称。
#SBATCH -N 1 # 计算节点数量
#SBATCH --mail-type=end  
#SBATCH --mail-user=YOU@EMAIL.COM
#SBATCH --output=%j.out  # 屏幕输出文件
#SBATCH --error=%j.err  # 屏幕错误信息输出文件。

/bin/hostname</code></pre>
<p>以上代码保存为<code>submit1.sh</code>。 然后在命令行中执行以下命令：</p>
<pre><code>sbatch submit1.sh</code></pre>
<p>代码示例2：</p>
<pre><code>#!/bin/bash
#
#SBATCH --job-name=echo_number # 任务名称
#SBATCH --output=slurm_%j.out # 屏幕输出及错误信息输出文件。
#SBATCH --ntasks=30  # CPU数量。

for i in {2000..2030}
do
    srun -n1  --exact  echo  $i &amp;
done
wait</code></pre>
<p>开启交互模式</p>
<pre><code>srun --nodes=1 --ntasks-per-node=1 --time=01:00:00 --pty bash -i</code></pre>
<p><strong>最简单的SHUD模型slurm任务案例：</strong>
<img src="Fig/ch5/slurm_example.png" alt="slurm任务案例" /></p>
<p>slurm教程参考</p>
<ul>
<li>上海交大： <a href="https://docs.hpc.sjtu.edu.cn/job/slurm.html">https://docs.hpc.sjtu.edu.cn/job/slurm.html</a></li>
<li>北京大学：<a href="https://hpc.pku.edu.cn/_book/">https://hpc.pku.edu.cn/_book/</a></li>
</ul>
</div>
<div id="slurm使用注意事项" class="section level3 hasAnchor" number="5.4.8">
<h3><span class="header-section-number">5.4.8</span> Slurm使用注意事项<a href="servers.html#slurm使用注意事项" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>不要使用主节点进行计算工作,任务全部通过slurm提交到计算节点。</li>
<li>不要使用<code>exclusive</code>选项。如果确实有必要，请提前告知PI和其他组员。</li>
<li>如果计算任务的数据写入量巨大，临时数据(药渣数据)请存放到/tmp目录下——该文件夹是数据计算节点的/tmp；然后修改程序，在程序结束之后从/tmp目录下移动/复制数据到<code>/user/zhangsan</code>，<code>/volume/repo/zhangsan</code>个人文件夹，再做数据后处理。</li>
</ol>
<p>注意，移动<code>/tmp</code>下文件的操作，比如在提交slurm的脚本或者程序中体现——因为，如果slurm计算任务结束之后，在主节点上访问的/tmp是主节点/tmp，无法再访问计算节点的/tmp文件夹。</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="res.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ResNormal.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
